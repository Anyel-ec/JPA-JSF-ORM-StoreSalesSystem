<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<head>
    <title>Nuevo Empleado</title>
    <link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/bootstrap.min.css" />
</head>
<body>
<h:form class="container">
    <h2 class="mb-4">Agregar Nuevo Pedido</h2>
    <div class="mb-3">
        <label for="cliente" class="form-label">Cliente:</label>
        <h:selectOneMenu id="cliente" value="#{pedidoManageBean.pedido.cliente.id_cliente}" class="form-select">
            <f:selectItem itemLabel="-- Seleccione un cliente --" itemValue="#{null}" />
            <f:selectItems value="#{pedidoManageBean.obtenerClientes()}" var="cliente" itemLabel="#{cliente.nombre} #{cliente.apellido}" itemValue="#{cliente.id_cliente}" />
        </h:selectOneMenu>
    </div>
    <div class="mb-3">
        <label for="empleado" class="form-label">Empleado:</label>
        <h:selectOneMenu id="empleado" value="#{pedidoManageBean.pedido.empleado.id_empleado}" class="form-select">
            <f:selectItem itemLabel="-- Seleccione un empleado --" itemValue="#{null}" />
            <!-- concatenar el nombre y el apellido en item label-->

            <f:selectItems value="#{pedidoManageBean.obtenerEmpleados()}" var="empleado" itemLabel="#{empleado.nombre} #{empleado.apellido}" itemValue="#{empleado.id_empleado}" />
        </h:selectOneMenu>
    </div>
    <div class="mb-3">
        <label for="estado" class="form-label">Estado de Pedido:</label>
        <h:selectOneMenu id="estado" value="#{pedidoManageBean.pedido.estadoPedido.id_estado_pedido}" class="form-select">
            <f:selectItem itemLabel="-- Seleccione el estado del pedido --" itemValue="#{null}" />
            <f:selectItems value="#{pedidoManageBean.obtenerEstadosPedido()}" var="estados" itemLabel="#{estados.nombre}" itemValue="#{estados.id_estado_pedido}" />
        </h:selectOneMenu>
    </div>
    <div class="mb-3">
        <label for="telefono" class="form-label">Total:</label>
        <h:inputText id="telefono" value="#{pedidoManageBean.pedido.total}" class="form-control" />
    </div>

    <!-- Componente de mensajes -->
    <h:messages globalOnly="true" layout="table" styleClass="alert alert-success" />

    <!-- BotÃ³n para guardar el empleado -->
    <div class="mb-3">
        <h:commandButton value="Guardar Empleado" action="#{pedidoManageBean.guardar(pedidoManageBean.pedido)}" class="btn btn-primary" />
    </div>


    <div>
        <h:commandButton value="Cancelar" action="#{navigationBean.irPedidos()}" class="btn btn-secondary" />
    </div>
</h:form>

</body>
</html>
